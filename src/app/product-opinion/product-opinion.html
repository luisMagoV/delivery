<ion-header>
  <ion-toolbar color="primary">
  </ion-toolbar>
</ion-header>
<ion-content class="ion-padding" style=" --ion-background-color: #F7F7F8 ;">
    
      <div style="margin-right:100px ; margin-bottom: -25px;">
        <ion-label>
          <ion-icon name="chatbox-outline"></ion-icon>
          {{ 'product-opinion.title' | translate }}
        </ion-label>        
      </div>
      <div style="margin-left: 330px;">
        <ion-buttons slot="end">
          <ion-button (click)="dismiss()">
            <ion-icon name="close-outline" size="large"></ion-icon>
          </ion-button>
        </ion-buttons>

      </div>
      <div style="display: flex;">
        <ion-img [alt]="store.name" [src]="store.logo" class="store-logo"></ion-img>
      <div style="margin-left: 10px;">
        
          <ion-label class="small font-weight-bolder"> {{ store.name}} </ion-label> <br>
          <ion-label class="small">
            {{ 'product-opinion.favorite' | translate }}
            <ion-icon name="heart" color="primary"></ion-icon>
          </ion-label>
       
      </div>
     <div style="margin-left: 80px;">
      <ion-col>
        <ion-label size="1" color="primary" class="font-weight-bold ion-text-right">
             <ion-icon name="star" style="color: yellow"></ion-icon>
         {{ storeAv }}
       </ion-label>
     </ion-col>
     </div>
    </div>
      
 <div class="small" style="margin: 5px; padding: 10px;" >Cuantas Estrellas le Darias a este Establecimiento?</div>

  <div style="display: flex; margin: 5px; padding: 10px;">
 
      <ion-icon *ngIf="stars>0" name="star" class="w-100" [style.color]="'yellow'" (click)="ratingOrder(1)"></ion-icon>
      <ion-icon *ngIf="stars>1" name="star" class="w-100" [style.color]="'yellow'" (click)="ratingOrder(2)"></ion-icon>
      <ion-icon *ngIf="stars>2" name="star" class="w-100" [style.color]="'yellow'" (click)="ratingOrder(3)"></ion-icon>
      <ion-icon *ngIf="stars>3" name="star" class="w-100" [style.color]="'yellow'" (click)="ratingOrder(4)"></ion-icon>
      <ion-icon *ngIf="stars>4" name="star" class="w-100" [style.color]="'yellow'" (click)="ratingOrder(5)"></ion-icon>
        <ion-icon *ngIf="stars<1 || stars == null" name="star-outline" [style.color]="'gray'" class="w-100" (click)="ratingOrder(1)"></ion-icon>
      <ion-icon *ngIf="stars<2 || stars == null" name="star-outline" [style.color]="'gray'" class="w-100" (click)="ratingOrder(2)"></ion-icon>
      <ion-icon *ngIf="stars<3 || stars == null" name="star-outline" [style.color]="'gray'" class="w-100" (click)="ratingOrder(3)"></ion-icon>
      <ion-icon *ngIf="stars<4 || stars == null" name="star-outline" [style.color]="'gray'" class="w-100" (click)="ratingOrder(4)"></ion-icon>
      <ion-icon *ngIf="stars<5 || stars == null" name="star-outline" [style.color]="'gray'" class="w-100" (click)="ratingOrder(5)"></ion-icon> 

  </div> 
  <ion-item lines="none" style="border-radius: 15px 15px 15px 15px; font-size: smaller; " class="ion-margin-top">
    <div class="comment w-100" lines="none" >
      <ion-textarea lines="none" rows="4" [(ngModel)]="textOpinion"
                    placeholder="{{ 'product-opinion.placeholder' | translate }}">
      </ion-textarea>
    </div>
  </ion-item> 
    <div style="width: 100px; margin-left:250px; padding: 10px;">
      <ion-button lines="none" class="ion-text-capitalize"  size="medium" expand="block" shape="round" slot="end" (click)="saveOpinion()"> <!-- {{ 'product-opinion.publish' | translate }} --> Enviar</ion-button>

    </div>
   
    <ion-card lines="none" style="background-color:  #F7F7F8; border: none" >
      <ion-label lines="none"  color="medium" style="font-size: small"> {{opinions.length}} {{ 'product-opinion.number' | translate }} </ion-label>
  </ion-card>
  <hr />
  <div class="comments"  lines="none"  *ngFor="let op of opinions">
    <ion-item style="border-radius: 15px 15px 0px 0px;" lines="none" >
      <ion-label class="ion-text-left" style="color: blue;" lines="none">{{ op.usuario.name }}</ion-label>
      <ion-label class="ion-text-center" style="color: blue;"  lines="none">{{ op.updatedAt | date:'dd/M/yyyy'}}</ion-label>

      <ion-label class="ion-text-right">
        <ion-icon *ngIf="op.stars>=1" name="star" [style.color]="'yellow'"></ion-icon>
        <ion-icon *ngIf="op.stars>=2" name="star" [style.color]="'yellow'"></ion-icon>
        <ion-icon *ngIf="op.stars>=3" name="star" [style.color]="'yellow'" ></ion-icon>
        <ion-icon *ngIf="op.stars>=4" name="star" [style.color]="'yellow'" ></ion-icon>
        <ion-icon *ngIf="op.stars==5" name="star" [style.color]="'yellow'" ></ion-icon>
        <ion-icon *ngIf="op.stars<2" name="star-outline"></ion-icon>
        <ion-icon *ngIf="op.stars<3" name="star-outline"></ion-icon>
        <ion-icon *ngIf="op.stars<4" name="star-outline"></ion-icon>
        <ion-icon *ngIf="op.stars<5" name="star-outline"></ion-icon>
      </ion-label>
    </ion-item >
    <ion-item  style="border-radius: 0px 0px 15px 15px;" lines="none"> 
      <ion-label class="ion-text-wrap">{{ op.opinion }}</ion-label>
    </ion-item>
  </div>
</ion-content>
